name: Train
inputs:
- {name: data_train, type: String}
- {name: svm_gamma, type: Float}
- {name: svm_c, type: Float}

outputs:
- {name: model}
- {name: completed_notebook}
- {name: params}

# Use a fake image name for now.  This is a template component that we can reuse later
# by loading it then doing a 
# def use_image(image_name):
#   def _use_image(task):
#     task.image = image_name
#     return task
# instanced_op_task.apply(use_image(my_image_name))
#
# Could we just leave image out entirely?
implementation:
  container:
    image: not.a.real.image/iowa-train:latest
    command: [
      'bash', '/scripts/train.sh', '--notebook', '/scripts/train.ipynb',
      '--output_notebook', {outputPath: completed_notebook},
      '--data', {inputPath: data_train},
      '--output_model', {outputPath: model},
      '--output_params', {outputPath: params},
      '--svm_gamma', {inputValue: svm_gamma},
      '--svm_c', {inputValue: svm_c}
    ]
